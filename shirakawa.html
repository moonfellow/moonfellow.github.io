<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>emperor shirakawa, his son, his son's son, and his son's son's son</title>
<style>
  body {
    background: #1b1b1b;
    color: #f5f2e7;
    font-family: "Garamond", serif;
    padding: 2rem;
    max-width: 600px;
    margin: auto;
  }
  #game {
    background: #2b2b2b;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 0 10px #000;
  }
  #choices button {
    background: #5a1e1e;
    color: #fff;
    border: none;
    padding: 10px 20px;
    margin: 8px;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.3s;
  }
  #choices button:hover {
    background: #7a2e2e;
  }
</style>
</head>
<body>
  <div id="game">
    <h1>Rift of the Chrysanthemum</h1>
    <p id="dialogue"></p>
    <div id="choices"></div>
  </div>

  <script>
    const scenes = {
      start: {
        text: "the year is 1087 in imperial japan. you are emperor shirakawa. the fujiwara family and the court grow increasingly dependent on powerful, violent allies, and you must retain control.",
        choices: [
          { text: "copy your grandfather go-sanjo and abdicate from the throne.", next: "horikawa" },
          { text: "stay in power.", next: "end" }
        ]
      },
      horikawa: {
        text: "your son, four-year-old horikawa, inherits the throne. you reassert the cloistered rule system and rule behind the shadows. but your son grows older. he has a child with the princess consort tokushi. he grows restless.",
        choices: [
          { text: "do nothing.", next: "end" },
          { text: "strangle horikawa while tokushi is asleep.", next: "end" },
          { text: "force horikawa to resign.", next: "resign" }
        ]
      },
      resign: {
        text: "horikawa resigns, and his son toba ascends to the throne. he is a precocious boy who likes to memorize maps. you are fond of him. soon he comes of age.",
        choices: [
          { text: "approve his marriage to fujiwara no taikenmon’in, strengthening the ties between the imperial court and the fujiwara family.", next: "marriage" },
          { text: "reject his marriage to fujiwara no taikenmon’in.", next: "end" }
        ]
      },
      marriage: {
        text: "the ceremony is beautiful, and you enjoy their laughter. you enjoy it too much. rumors spread that your affection for taikenmon’in is improper.",
        choices: [
          { text: "execute the gossipmongers.", next: "end" },
          { text: "ignore the whispers.", next: "ignore" }
        ]
      },
      ignore: {
        text: "taikenmon'in gives birth to a son named sutoku. he has wide, unblinking, familiar eyes. you shiver. you remain silent. some claim that the child is not toba's but yours.",
        choices: [
          { text: "speak to toba. assure him these are lies", next: "lie" },
          { text: "do not speak to toba.", next: "sutoku" }
        ]
      },
      lie: {
        text: "toba does not believe you. he begins to resent sutoku, who has become emperor. to oppose him, toba begins to back the fujiwara family.",
        choices: [
          { text: "a facttional split emerges within the imperial court.", next: "end" }
        ]
      },
      sutoku: {
        text: "unable to deny the rumors, toba is devastated. his son is, in fact, his uncle. the boy he raised has become a stranger. he allies with the fujiwara to oppose now-emperor sutoku.",
        choices: [
          { text: "a facttional split emerges within the imperial court.", next: "end" }
        ]
      },
      end: {
        text: "the rift is unbearable. war erupts.",
        choices: [
          { text: "play again", next: "start" }
        ]
      }
    };

    const dialogue = document.getElementById("dialogue");
    const choices = document.getElementById("choices");

    function showScene(name) {
      const scene = scenes[name];
      dialogue.textContent = scene.text;
      choices.innerHTML = "";
      scene.choices.forEach(choice => {
        const button = document.createElement("button");
        button.textContent = choice.text;
        button.onclick = () => showScene(choice.next);
        choices.appendChild(button);
      });
    }

    showScene("start");
  </script>
</body>
</html>
